{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport Paginator from \"react-hooks-paginator\";\nimport { LayoutOne } from \"../../layouts\";\nimport { BreadcrumbOne } from \"../../components/Breadcrumb\";\nimport { getSortedProducts } from \"../../lib/product\";\nimport { ShopProducts } from \"../../components/Shop\";\nimport { ProductCategoryFetchCalls } from '../../services/api/fetchCalls/ProductFetchCalls';\nexport const getServerSideProps = async () => {\n  const roomMenu = await ProductCategoryFetchCalls(76);\n  const productMenu = await ProductCategoryFetchCalls(17);\n  return {\n    props: {\n      products: roomMenu,\n      productData: {\n        productMenu,\n        roomMenu\n      }\n    }\n  };\n};\n\nconst ShopbyProduct = ({\n  products,\n  productData\n}) => {\n  const {\n    0: sortType,\n    1: setSortType\n  } = useState(\"\");\n  const {\n    0: sortValue,\n    1: setSortValue\n  } = useState(\"\");\n  const {\n    0: filterSortType,\n    1: setFilterSortType\n  } = useState(\"\");\n  const {\n    0: filterSortValue,\n    1: setFilterSortValue\n  } = useState(\"\");\n  const {\n    0: offset,\n    1: setOffset\n  } = useState(0);\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(1);\n  const {\n    0: currentData,\n    1: setCurrentData\n  } = useState([]);\n  const {\n    0: sortedProducts,\n    1: setSortedProducts\n  } = useState([]);\n  const pageLimit = 12;\n  useEffect(() => {\n    let sortedProducts = getSortedProducts(products, sortType, sortValue);\n    const filterSortedProducts = getSortedProducts(sortedProducts, filterSortType, filterSortValue);\n    sortedProducts = filterSortedProducts;\n    setSortedProducts(sortedProducts);\n    setCurrentData(sortedProducts.slice(offset, offset + pageLimit));\n  }, [offset, products, sortType, sortValue, filterSortType, filterSortValue]);\n  return __jsx(LayoutOne, {\n    productData: productData\n  }, __jsx(Container, null, __jsx(BreadcrumbOne, {\n    pageTitle: \"Shop by Products\"\n  }, __jsx(\"ol\", {\n    className: \"breadcrumb justify-content-md-end\"\n  }, __jsx(\"li\", {\n    className: \"breadcrumb-item\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, \"Home\"))), __jsx(\"li\", {\n    className: \"breadcrumb-item active\"\n  }, \"Shop by Products\")))), __jsx(\"div\", {\n    className: \"shop-content space-pt--r70 space-pb--r70\"\n  }, __jsx(Container, null, __jsx(Row, null, __jsx(Col, {\n    lg: 12\n  }, __jsx(ShopProducts, {\n    products: products\n  }), __jsx(\"div\", {\n    className: \"pagination pagination-style pagination-style--two justify-content-center\"\n  }, __jsx(Paginator, {\n    totalRecords: sortedProducts.length,\n    pageLimit: pageLimit,\n    pageNeighbours: 2,\n    setOffset: setOffset,\n    currentPage: currentPage,\n    setCurrentPage: setCurrentPage,\n    pageContainerClass: \"mb-0 mt-0\",\n    pagePrevText: \"\\xAB\",\n    pageNextText: \"\\xBB\"\n  })))))));\n};\n\nexport default ShopbyProduct;","map":null,"metadata":{},"sourceType":"module"}